{"author":"fu","version":"1.2.4","userSecure":"","currTypeMapperGroupName":"Default","currTemplateGroupName":"Default","currColumnConfigGroupName":"Default","currGlobalConfigGroupName":"Default","typeMapper":{"Default":{"name":"Default","elementList":[{"matchType":"REGEX","columnType":"varchar(\\(\\d+\\))?","javaType":"java.lang.String"},{"matchType":"REGEX","columnType":"char(\\(\\d+\\))?","javaType":"java.lang.String"},{"matchType":"REGEX","columnType":"(tiny|medium|long)*text","javaType":"java.lang.String"},{"matchType":"REGEX","columnType":"decimal(\\(\\d+,\\d+\\))?","javaType":"java.lang.Double"},{"matchType":"ORDINARY","columnType":"bigint","javaType":"java.lang.Long"}]}},"template":{"Default":{"name":"Default","elementList":[{"name":"controller.java.vm","code":"##定义初始变量\n#set($tableName = $tool.append($tableInfo.name, \"Controller\"))\n##设置回调\n$!callback.setFileName($tool.append($tableName, \".java\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/controller\"))\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}controller;\n\nimport com.github.pagehelper.PageHelper;\nimport com.github.pagehelper.PageSerializable;\nimport $!{tableInfo.savePackageName}.entity.$!{tableInfo.name};\nimport $!{tableInfo.savePackageName}.serviceimpl.$!{tableInfo.name}ServiceImpl;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.annotation.Resource;\nimport javax.validation.Valid;\nimport java.util.List;\n\n##表注释\n/**\n * #if(${tableInfo.comment})${tableInfo.comment}#end\n */\n@RestController\n@RequestMapping(\"$!tool.firstLowerCase($tableInfo.name)\")\npublic class $!{tableName} {\n\n    @Resource\n    private $!{tableInfo.name}ServiceImpl $!tool.firstLowerCase($tableInfo.name)ServiceImpl;\n\n    /**\n     * 根据ID查询\n\t * @param id\n     */\n    @GetMapping(\"select\")\n    public $!{tableInfo.name} select(@RequestParam $!pk.shortType id) {\n        return $!{tool.firstLowerCase($tableInfo.name)}ServiceImpl.select(id);\n    }\n\t\n\t/**\n     * 查询全部\n     */\n    @GetMapping(\"selectAll\")\n    public List<$!{tableInfo.name}> selectAll() {\n        return $!{tool.firstLowerCase($tableInfo.name)}ServiceImpl.selectAll();\n    }\n\t\n\t/**\n     * 查询全部（分页）\n\t * @param pageNum 起始页\n\t * @param pageSize\t每页数据量\n     */\n    @GetMapping(\"selectPage\")\n    public PageSerializable<$!{tableInfo.name}> selectPage(@RequestParam(defaultValue = \"1\") Integer pageNum,@RequestParam(defaultValue = \"10\") Integer pageSize) {\n\t\tPageHelper.startPage(pageNum, pageSize);\n        return PageSerializable.of($!{tool.firstLowerCase($tableInfo.name)}ServiceImpl.selectAll());\n    }\n\t\n\t/**\n     * 新增\n\t * @param $!{tool.firstLowerCase($tableInfo.name)}\n     */\n    @PostMapping(\"insert\")\n    public Integer insert(@RequestBody @Valid $!{tableInfo.name} $!{tool.firstLowerCase($tableInfo.name)}) {\n        return $!{tool.firstLowerCase($tableInfo.name)}ServiceImpl.insert($!{tool.firstLowerCase($tableInfo.name)});\n    }\n\n    /**\n     * 修改\n\t * @param $!{tool.firstLowerCase($tableInfo.name)}\n     */\n    @PostMapping(\"update\")\n    public Integer update(@RequestBody @Valid $!{tableInfo.name} $!{tool.firstLowerCase($tableInfo.name)}) {\n        return $!{tool.firstLowerCase($tableInfo.name)}ServiceImpl.update($!{tool.firstLowerCase($tableInfo.name)});\n    }\n\n    /**\n     * 删除\n\t * @param id\n     */\n    @PostMapping(\"delete\")\n    public Integer delete(@RequestParam $!pk.shortType id) {\n        return $!{tool.firstLowerCase($tableInfo.name)}ServiceImpl.delete(id);\n    }\n\n}\n"},{"name":"service.java.vm","code":"##定义初始变量\n#set($tableName = $tool.append($tableInfo.name, \"Service\"))\n##设置回调\n$!callback.setFileName($tool.append($tableName, \".java\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/service\"))\n\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}service;\n\nimport $!{tableInfo.savePackageName}.entity.$!{tableInfo.name};\nimport $!{tableInfo.savePackageName}.service.$!{tableInfo.name}Service;\nimport java.util.List;\n\n\npublic interface $!{tableName}{\n\t\n\t//根据ID查询\n\t$!{tableInfo.name} select($!pk.shortType $!pk.name);\n\t\n\t//查询全部\n\tList<$!{tableInfo.name}> selectAll();\n\t\n\t//新增\n\tInteger insert($!{tableInfo.name} $!tool.firstLowerCase($!{tableInfo.name}));\n\t\n\t//更新\n\tInteger update($!{tableInfo.name} $!tool.firstLowerCase($!{tableInfo.name}));\n\t\n\t//删除\n\tInteger delete($!pk.shortType $!pk.name);\n}"},{"name":"entity.java.vm","code":"##引入宏定义\n$!{define.vm}\n\n##使用宏定义设置回调（保存位置与文件后缀）\n#save(\"/entity\", \".java\")\n\n##使用宏定义设置包后缀\n#setPackageSuffix(\"entity\")\n\n##使用全局变量实现默认包导入\n$!{autoImport.vm}\n\npublic class $!{tableInfo.name}{\n#foreach($column in $tableInfo.fullColumn)\n\n    private $!{tool.getClsNameByFullName($column.type)} $!{column.name};//#if(${column.comment})${column.comment}#end\n#end\n\n#foreach($column in $tableInfo.fullColumn)\n##实现get,set方法\n\tpublic $!{tool.getClsNameByFullName($column.type)} get$!{tool.firstUpperCase($column.name)}() {\n        return $!{column.name};\n    }\n\n    public void set$!{tool.firstUpperCase($column.name)}($!{tool.getClsNameByFullName($column.type)} $!{column.name}) {\n        this.$!{column.name} = $!{column.name} #if($column.type.equals(\"java.lang.Long\"));#elseif($column.type.equals(\"java.lang.Integer\"));#elseif($column.type.equals(\"java.lang.Float\"));#elseif($column.type.equals(\"java.lang.Double\"));#elseif($column.type.equals(\"java.util.Date\"));#else == null ? null : $!{column.name}.trim()#end;\n    }\n#end\n\n}\n"},{"name":"dao.java.vm","code":"##定义初始变量\n#set($tableName = $tool.append($tableInfo.name, \"Dao\"))\n##设置回调\n$!callback.setFileName($tool.append($tableName, \".java\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/dao\"))\n\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}dao;\n\nimport $!{tableInfo.savePackageName}.entity.$!{tableInfo.name};\n\nimport java.util.List;\n\npublic interface $!{tableName} {\n\n\t//根据ID查询\n    $!{tableInfo.name} select($!pk.shortType $!pk.name);\n\t\n\t//查询全部\n\tList<$!{tableInfo.name}> selectAll();\n\n\t//新增\n    int insert($!{tableInfo.name} $!tool.firstLowerCase($!{tableInfo.name}));\n\n\t//更新\n    int update($!{tableInfo.name} $!tool.firstLowerCase($!{tableInfo.name}));\n\n\t//删除\n    int delete($!pk.shortType $!pk.name);\n\n}\n"},{"name":"mapper.xml.vm","code":"##引入mybatis支持\n$!{mybatisSupport.vm}\n\n##设置保存名称与保存位置\n$!callback.setFileName($tool.append($!{tableInfo.name}, \"Mapper.xml\"))\n$!callback.setSavePath($tool.append($modulePath, \"/src/main/resources/mapper\"))\n\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"$!{tableInfo.savePackageName}.dao.$!{tableInfo.name}Dao\">\n\n    <resultMap type=\"$!{tableInfo.savePackageName}.entity.$!{tableInfo.name}\" id=\"BaseResultMap\">\n#foreach($column in $tableInfo.fullColumn)\n        <result property=\"$!column.name\" column=\"$!column.obj.name\" jdbcType=\"$!column.ext.jdbcType\"/>\n#end\n    </resultMap>\n\t\n\t<sql id=\"Base_Column_List\">#allSqlColumn()</sql>\n\n\t<!-- 根据ID查询 -->\n    <select id=\"select\" resultMap=\"BaseResultMap\">\n        select\n          <include refid=\"Base_Column_List\" />\n        from $!tableInfo.obj.name\n        where $!pk.obj.name = #{$!pk.name}\n    </select>\n\t\n\t<!-- 查询全部 -->\n\t<select id=\"selectAll\" resultMap=\"BaseResultMap\">\n        select\n          <include refid=\"Base_Column_List\" />\n        from $!tableInfo.obj.name\n        where 1=1\n    </select>\n\t\n\t<!-- 新增 -->\n    <insert id=\"insert\" parameterType=\"$!{tableInfo.savePackageName}.entity.$!{tableInfo.name}\">\n        insert into $!{tableInfo.obj.name}\n\t\t<trim prefix=\"(\" suffix=\")\" suffixOverrides=\",\">\n\t\t#foreach($column in $tableInfo.fullColumn)\n\t\t<if test=\"$!column.name != null\">\n                $!column.obj.name,\n        </if>\n\t\t#end\n\t\t</trim>\n\t\t<trim prefix=\"values (\" suffix=\")\" suffixOverrides=\",\">\n\t\t#foreach($column in $tableInfo.fullColumn)\n\t\t<if test=\"$!column.name != null\">\n                #{$!column.name},\n        </if>\n\t\t#end\n\t\t</trim>\n    </insert>\n\t\n\t<!-- 更新 -->\n    <update id=\"update\" parameterType=\"$!{tableInfo.savePackageName}.entity.$!{tableInfo.name}\">\n        update $!{tableInfo.obj.name}\n        <set>\n\t\t\t#foreach($column in $tableInfo.fullColumn)\n\t\t\t<if test=\"$!column.name != null\">\n\t\t\t\t$!column.obj.name = #{$!column.name},\n\t\t\t</if>\n\t\t\t#end\n\t\t</set>\n\t\twhere $!pk.obj.name = #{$!pk.name}\n    </update>\n\t\n\t<!-- 删除 -->\n    <delete id=\"delete\">\n        delete from $!{tableInfo.obj.name} where $!pk.obj.name = #{$!pk.name}\n    </delete>\n\n</mapper>\n"},{"name":"serviceimpl.java.vm","code":"##定义初始变量\n#set($tableName = $tool.append($tableInfo.name, \"ServiceImpl\"))\n##设置回调\n$!callback.setFileName($tool.append($tableName, \".java\"))\n$!callback.setSavePath($tool.append($tableInfo.savePath, \"/serviceimpl\"))\n\n##拿到主键\n#if(!$tableInfo.pkColumn.isEmpty())\n    #set($pk = $tableInfo.pkColumn.get(0))\n#end\n\n#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}serviceimpl;\n\nimport $!{tableInfo.savePackageName}.entity.$!{tableInfo.name};\nimport $!{tableInfo.savePackageName}.dao.$!{tableInfo.name}Dao;\nimport $!{tableInfo.savePackageName}.service.$!{tableInfo.name}Service;\nimport org.springframework.stereotype.Service;\nimport java.util.List;\n\nimport javax.annotation.Resource;\n\n@Service\npublic class $!{tableName} implements $!{tableInfo.name}Service {\n    @Resource\n    private $!{tableInfo.name}Dao $!tool.firstLowerCase($!{tableInfo.name})Dao;\n\t\n\t//根据ID查询\n\t@Override\n    public $!{tableInfo.name} select($!pk.shortType $!pk.name) {\n        return $!{tool.firstLowerCase($!{tableInfo.name})}Dao.select($!pk.name);\n    }\n\t\n\t//查询全部\n\t@Override\n\tpublic List<$!{tableInfo.name}> selectAll() {\n        return $!{tool.firstLowerCase($!{tableInfo.name})}Dao.selectAll();\n    }\n\t\n\t//新增\n\t@Override\n    public Integer insert($!{tableInfo.name} $!tool.firstLowerCase($!{tableInfo.name})) {\n        return $!{tool.firstLowerCase($!{tableInfo.name})}Dao.insert($!tool.firstLowerCase($!{tableInfo.name}));\n    }\n\n\t//更新\n\t@Override\n    public Integer update($!{tableInfo.name} $!tool.firstLowerCase($!{tableInfo.name})) {\n        return $!{tool.firstLowerCase($!{tableInfo.name})}Dao.update($!tool.firstLowerCase($!{tableInfo.name}));\n    }\n\n\t//删除\n\t@Override\n    public Integer delete($!pk.shortType $!pk.name) {\n        return $!{tool.firstLowerCase($!{tableInfo.name})}Dao.delete($!pk.name);\n    }\n}\n"}]}},"columnConfig":{},"globalConfig":{}}